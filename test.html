<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Test Page</title>
</head>
<body>
    <script>

        const getDistance = (matrix, x, y) => {
            let closest = null
            let booleanArr = Array(matrix.length).fill(0).map(arr => Array(matrix[0].length).fill(false))

            const getClosestZero = (xCord, yCord, current) => {
                booleanArr[yCord][xCord] = true

                if (matrix[yCord][xCord] === 0) {
                    if (!closest) {
                        closest = current
                        return
                    } else if (current < closest) {
                        return current
                    } else {
                        return
                    }
                }

                if (matrix[yCord - 1] !== undefined) {
                    if (!booleanArr[yCord - 1][xCord]) {
                        getClosestZero(xCord, yCord - 1, current += 1)
                        current -= 1
                    }
                }

                if (matrix[yCord][xCord + 1] !== undefined) {
                    if (!booleanArr[yCord][xCord + 1]) {
                        getClosestZero(xCord + 1, yCord, current += 1)
                        current -= 1
                    }
                }

                if (matrix[yCord + 1] !== undefined) {
                    if (!booleanArr[yCord + 1][xCord]) {
                        getClosestZero(xCord, yCord + 1, current += 1)
                        current -= 1
                    }
                }

                if (matrix[yCord][xCord - 1] !== undefined) {
                    if (!booleanArr[yCord][xCord - 1]) {
                        getClosestZero(xCord - 1, yCord, current += 1)
                        current -= 1
                    }
                }
            }

            getClosestZero(x, y, 0)
            return closest
        }

        const updateMatrix = (matrix) => {
            if (!matrix.length) {
                return null
            }

            for (let i = 0; i < matrix.length; i++) {
                for (let j = 0; j < matrix[i].length; j++) {
                    if (matrix[i][j] !== 0) {
                        matrix[i][j] = getDistance(matrix, j, i)
                    }
                }
            }

            return matrix
        };

        let newMatrix = [[0,0,0],
                         [0,1,0],
                         [1,1,1]];
        
        console.log(updateMatrix(newMatrix))

    </script>
</body>
</html>
